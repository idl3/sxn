# Database configuration for {{ session.name }}
# This file provides database configuration specific to this session

default: &default
  adapter: postgresql
  encoding: unicode
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  username: <%= ENV["DB_USER"] || "postgres" %>
  password: <%= ENV["DB_PASSWORD"] || "" %>
  host: <%= ENV["DB_HOST"] || "localhost" %>
  port: <%= ENV["DB_PORT"] || 5432 %>

development:
  <<: *default
  database: {{ session.name | replace: "-", "_" }}_development

test:
  <<: *default
  database: {{ session.name | replace: "-", "_" }}_test

# Production configuration should not be in session-specific files
# Use the main project's database.yml for production settings
production:
  <<: *default
  database: <%= ENV["DATABASE_URL"] %>

# Session-specific database notes:
# - Database names are prefixed with session name for isolation
# - Development and test databases are session-specific
# - Production uses the main project configuration
# - Environment variables can override these settings